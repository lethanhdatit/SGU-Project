<div class="input-group">
    <input type="text" class="form-control" [(ngModel)]="searchText" name="searchText" placeholder="Search">
</div>
<div class="table-responsive">
    <table class="table table-hover">
        <tr>
            <th>Order ID</th>
            <th>Product ID</th>
            <th>Quantity</th>
            <th>Price</th>
        </tr>
        <tr *ngFor="let ordtail of orderDetailService.list | filter: searchText | paginate: {itemsPerPage: 2, currentPage: p}">
            <td>{{ordtail.orderId}}</td>
            <td>{{ordtail.productId}}</td>
            <td>{{ordtail.quantity}}</td>
            <td>{{ordtail.price}}</td>
            <td>
                <i class="far fa-trash-alt fa-lg text-danger" (click)="onDelete(ordtail.detailID)"></i>
            </td>
            <td (click)="populateFormDetailList(ordtail)" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo"><i class="fas fa-wrench fa-lg"></i></td>
        </tr>
    </table>
</div>
<pagination-controls (pageChange)="p = $event"></pagination-controls>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Order Detail</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
            <form #form="ngForm" autocomplete="off" (submit)="onSubmitDetailList(form)">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text bg-white">
                                <i class="fas fa-key"></i>
                            </div>
                        </div>
                        <input name="detailId" [value]="orderDetailService.formData.detailId"
                        class="form-control" disabled>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text bg-white">
                                <i class="fas fa-clipboard-list" [class.green-icon]="orderId.valid"
                                [class.red-icon]="orderId.invalid && orderId.touched"></i>
                            </div>
                        </div>
                        <input name="orderId" #orderId="ngModel" [(ngModel)]="orderDetailService.formData.orderId"
                        class="form-control" placeholder="Order ID" required>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text bg-white">
                                <i class="fas fa-box-open" [class.green-icon]="productId.valid"
                                [class.red-icon]="productId.invalid && productId.touched"></i>
                            </div>
                        </div>
                        <input name="productId" #productId="ngModel" [(ngModel)]="orderDetailService.formData.productId"
                        class="form-control" placeholder="Product ID" required>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text bg-white">
                                <i class="fas fa-tags" [class.green-icon]="quantity.valid"
                                [class.red-icon]="quantity.invalid && quantity.touched"></i>
                            </div>
                        </div>
                        <input name="quantity" #quantity="ngModel" [(ngModel)]="orderDetailService.formData.quantity"
                        class="form-control" placeholder="Quantity" required>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text bg-white">
                                <i class="fas fa-dollar-sign" [class.green-icon]="price.valid"
                                [class.red-icon]="price.invalid && price.touched"></i>
                            </div>
                        </div>
                        <input name="price" #price="ngModel" [(ngModel)]="orderDetailService.formData.price"
                        class="form-control" placeholder="Price" required>
                    </div>
                </div>

                <div class="modal-footer form-group">
                    <button class="btn btn-success" type="submit" ><i class="fas fa-database"></i> Add</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
      </div>
    </div>
</div>